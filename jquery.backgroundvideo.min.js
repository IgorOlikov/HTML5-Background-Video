/*
* jQuery Background video plugin for jQuery
* ---
* Copyright 2011, Victor Coulon (http://victorcoulon.fr)
* Released under the MIT, BSD, and GPL Licenses.
* based on jQuery Plugin Boilerplate 1.3
*/

!function(t){t.backgroundVideo=function(e,i){var s={videoid:"video_background",autoplay:!0,muted:!0,loop:!0,preload:!0},n=this;n.settings={};var o=function(){var e="",i="",s="",o="",g="",l=n.settings.preload,a=n.settings.autoplay,h=n.settings.muted,v=n.settings.loop;i=l?'preload="auto"':"",s=a?'autoplay="autoplay"':"",o=h?"muted ":"",g=v?'loop="true"':"",e+='<video id="'+n.settings.videoid+'"'+i+s+o+g,n.settings.poster&&(e+=' poster="'+n.settings.poster+'" '),e+='style="display:none;position:fixed;top:0;left:0;bottom:0;right:0;z-index:-100;width:100%;height:100%;">';for(var r=0;r<n.settings.types.length;r++)e+='<source src="'+n.settings.path+n.settings.filename+"."+n.settings.types[r]+'" type="video/'+n.settings.types[r]+'" />';e+="bgvideo</video>",n.el.html(e),n.videoEl=document.getElementById(n.settings.videoid),n.$videoEl=t(n.videoEl),n.$videoEl.fadeIn(2e3),d()},d=function(){var t=g();n.$videoEl.width(t*n.settings.width),n.$videoEl.height(t*n.settings.height),void 0!==n.settings.align&&l()},g=function(){var e=t(window).width(),i=t(window).height(),s=e/i,o=n.settings.width/n.settings.height,d=i/n.settings.height;return s>=o&&(d=e/n.settings.width),d},l=function(){var e=(t(window).width()>>1)-(n.$videoEl.width()>>1)|0,i=(t(window).height()>>1)-(n.$videoEl.height()>>1)|0;"centerXY"!=n.settings.align?"centerX"!=n.settings.align?"centerY"!=n.settings.align||n.$videoEl.css("top",i):n.$videoEl.css("left",e):n.$videoEl.css({left:e,top:i})};n.settings=t.extend({},s,i),n.el=e,o(),t(window).resize(function(){d()}),n.$videoEl.bind("ended",function(){this.play()})}}(jQuery);